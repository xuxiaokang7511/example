(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3331bea5"],{"18d21":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("wb-page-header",{scopedSlots:t._u([{key:"content",fn:function(){return[i("el-row",[i("el-col",{attrs:{span:8}},[i("div",[t._v("\n            GitHub\uff1a\n            "),i("a",{staticClass:"link-type",attrs:{href:"https://github.com/fengyuanchen/cropperjs",target:"_blank"}},[t._v("cropperjs")])])]),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",[t._v("\u91cd\u7f6e\uff1a reset()")])]),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",[t._v("\u6e05\u9664\uff1a clear()")])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("div",[t._v("\u7f29\u653e\uff1a zoom(ratio)")])]),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",[t._v("\u79fb\u52a8\uff1a move(offsetX[, offsetY])")])]),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",[t._v("\u89d2\u5ea6\uff1a rotate(degree)")])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("div",[t._v("scale\uff1a scale(scaleX[, scaleY])")])]),t._v(" "),i("el-col",{attrs:{span:16}},[i("div",[t._v("\n            \u7f51\u7ad9\uff1a\n            "),i("a",{staticClass:"link-type",attrs:{href:"https://fengyuanchen.github.io/cropperjs/",target:"_blank"}},[t._v("cropperjs")])])])],1)]},proxy:!0}])},[t._v("\n    \u56fe\u7247\u88c1\u526a\n    ")]),t._v(" "),i("div",{staticClass:"components-container"},[i("pan-thumb",{attrs:{image:t.image}}),t._v(" "),i("cropper",{staticStyle:{position:"absolute",bottom:"15px","margin-left":"170px"},on:{"crop-success":t.cropSuccess}})],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"cropper-com"}},[i("el-dialog",{attrs:{visible:t.panel,"show-close":!1,"close-on-click-modal":!1,width:"618px"},on:{"update:visible":function(e){t.panel=e}}},[i("el-row",{attrs:{gutter:2}},[i("el-col",{attrs:{span:18}},[i("div",{staticStyle:{"margin-top":"1%","margin-left":"1%","margin-right":"1%",height:"85%","margin-bottom":"1%"}},[i("img",{attrs:{id:"image",src:t.url,alt:"Picture"}})])]),t._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticStyle:{"margin-top":"5px"}},[t._v("\u9884\u89c8\uff1a")]),t._v(" "),i("div",{staticClass:"prec"},[i("div",{staticClass:"pre-show"})]),t._v(" "),i("div",{staticStyle:{"margin-top":"10px",padding:"3px"}},[i("el-button-group",[i("el-button",{attrs:{type:"primary",title:"\u7f29\u5c0f",icon:"el-icon-zoom-out"},on:{click:function(e){return t.zoom(-.1)}}}),t._v(" "),i("el-button",{attrs:{type:"primary",title:"\u5411\u4e0a\u79fb\u52a8",icon:"el-icon-top"},on:{click:function(e){return t.move(0,-10)}}}),t._v(" "),i("el-button",{attrs:{type:"primary",title:"\u653e\u5927",icon:"el-icon-zoom-in"},on:{click:function(e){return t.zoom(.1)}}})],1),t._v(" "),i("el-button-group",{staticStyle:{"margin-top":"1px"}},[i("el-button",{attrs:{type:"primary",title:"\u5411\u5de6\u79fb\u52a8",icon:"el-icon-back"},on:{click:function(e){return t.move(-10,0)}}}),t._v(" "),i("el-button",{attrs:{type:"primary",title:"\u8fd8\u539f",icon:"el-icon-refresh"},on:{click:t.reset}}),t._v(" "),i("el-button",{attrs:{type:"primary",title:"\u5411\u53f3\u79fb\u52a8",icon:"el-icon-right"},on:{click:function(e){return t.move(10,0)}}})],1),t._v(" "),i("el-button-group",{staticStyle:{"margin-top":"1px"}},[i("el-button",{attrs:{type:"primary",title:"\u5411\u5de6\u65cb\u8f6c45\xb0",icon:"el-icon-refresh-left"},on:{click:t.rotateLeft}}),t._v(" "),i("el-button",{attrs:{type:"primary",title:"\u5411\u4e0b\u79fb\u52a8",icon:"el-icon-bottom"},on:{click:function(e){return t.move(0,10)}}}),t._v(" "),i("el-button",{attrs:{type:"primary",title:"\u5411\u53f3\u65cb\u8f6c45\xb0",icon:"el-icon-refresh-right"},on:{click:t.rotateRight}})],1),t._v(" "),i("el-button-group",{staticStyle:{"margin-top":"12px"}},[i("el-button",{staticStyle:{padding:"10px 10px"},attrs:{type:"success",icon:"el-icon-check"},on:{click:t.crop}},[t._v("\u4fdd\u5b58")]),t._v(" "),i("el-button",{staticStyle:{padding:"10px 10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:function(e){t.panel=!1}}},[t._v("\u53d6\u6d88")])],1)],1)])],1),t._v(" "),t._e()],1),t._v(" "),i("el-upload",{attrs:{accept:t.accept,action:t.action,"show-file-list":!1,multiple:!1,"before-upload":t.imgeBeforeUpload,"http-request":t.uploadSectionFile}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("\u70b9\u51fb\u4e0a\u4f20")]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\u4e0a\u4f20\u4e0d\u8d85\u8fc72M\u7684jpg/png\u56fe\u7247")])],1)],1)},a=[],c=i("bab4"),s=i.n(c),l=(i("6107"),i("9648")),p={props:{accept:{type:String,default:function(){return"image/jpeg,image/png"}},maxSize:{type:Number,default:function(){return 4}}},data:function(){return{action:"",cropper:"",croppable:!1,panel:!1,url:""}},mounted:function(){},methods:{imgeBeforeUpload:function(t){this.url="";var e=t.type,i=-1!==this.accept.split(",").indexOf(e),n=t.size/1024/1024<=this.maxSize;return i?n?void 0:(this.$message.error("\u53ea\u80fd\u4e0a\u4f20\u56fe\u7247\u5927\u5c0f\u5c0f\u4e8e2M"),!1):(this.$message.error("\u53ea\u80fd\u4e0a\u4f20\u56fe\u7247\u683c\u5f0fpng\u3001jpg!"),!1)},uploadSectionFile:function(t){var e=this.getObjectURL(t.file);this.url=e,this.panel=!0,this.cropper?this.cropper.replace(e):this.$nextTick(this.init)},init:function(){var t=this;this.cropper=new s.a(document.getElementById("image"),{aspectRatio:1,preview:".pre-show",viewMode:1,dragMode:"move",zoomOnWheel:!0,background:!0,rotatable:!0,minContainerWidth:450,minContainerHeight:330,ready:function(){t.croppable=!0}})},rotateLeft:function(){this.cropper.rotate(-45)},rotateRight:function(){this.cropper.rotate(45)},zoom:function(t){t=t||1,this.cropper.zoom(t)},move:function(t,e){this.cropper.move(t,e)},reset:function(){this.cropper.reset()},getObjectURL:function(t){var e=null;return void 0!==window.createObjectURL?e=window.createObjectURL(t):void 0!==window.URL?e=window.URL.createObjectURL(t):void 0!==window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},getCrop:function(){var t=this.cropper.getCroppedCanvas();return t.toDataURL()},crop:function(){this.panel=!1,this.croppable&&this.postImg(this.getCrop())},postImg:function(t){var e=this;this.$store.dispatch("common/imgUpload",Object(l["b"])(t)).then((function(t){e.$emit("crop-success",t.data)}))}}},u=p,d=(i("4ea8"),i("2877")),v=Object(d["a"])(u,r,a,!1,null,"0f08c637",null),f=v.exports,m=i("3cbc"),h={name:"CropperUploadDemo",components:{PanThumb:m["a"],Cropper:f},data:function(){return{image:"https://wpimg.wallstcn.com/577965b9-bb9e-4e02-9f0c-095b41417191"}},methods:{cropSuccess:function(t){this.image=t}}},g=h,b=(i("1f98"),Object(d["a"])(g,n,o,!1,null,"a0f268e6",null));e["default"]=b.exports},"1f98":function(t,e,i){"use strict";var n=i("fa49"),o=i.n(n);o.a},"3cbc":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pan-item",style:{zIndex:t.zIndex,height:t.height,width:t.width}},[i("div",{staticClass:"pan-info"},[i("div",{staticClass:"pan-info-roles-container"},[t._t("default")],2)]),t._v(" "),i("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+t.image+")"}})])},o=[],r={name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}},a=r,c=(i("f86f"),i("2877")),s=Object(c["a"])(a,n,o,!1,null,"72e02616",null);e["a"]=s.exports},"4ea8":function(t,e,i){"use strict";var n=i("b0c4"),o=i.n(n);o.a},"8d1f":function(t,e,i){},9648:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.type,n=i.split("/")[1];return e||(e="img.".concat(n)),new File([t],e,{type:t.type,lastModified:Date.now()})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",i=t.split(","),n=i[0].match(/:(.*?);/)[1],o=n.split("/")[1],r=atob(i[1]),a=r.length,c=new Uint8Array(a);while(a--)c[a]=r.charCodeAt(a);return new File([c],"".concat(e,".").concat(o),{type:n})}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}))},b0c4:function(t,e,i){},f86f:function(t,e,i){"use strict";var n=i("8d1f"),o=i.n(n);o.a},fa49:function(t,e,i){}}]);